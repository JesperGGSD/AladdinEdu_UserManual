<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>AladdinEdu&#x4f7f;&#x7528;&#x624b;&#x518c;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <hr>
<h2 id="title-usermanual_v12date-may-20-2025output-pdf_documentpluginname-aladdinversion-226">title: &quot;UserManual_v1.2&quot;
date: May 20, 2025
output: pdf_document
plugin:
name: &quot;Aladdin&quot;
version: &quot;2.2.6&quot;</h2>
<h1 id="aladdinedu使用手册">AladdinEdu使用手册</h1>
<h2 id="简介">简介</h2>
<blockquote>
<p>严肃声明：严禁挖矿，一经发现一律清空所有算力并永久封号！</p>
</blockquote>
<p>🔹欢迎关注公众号“九章云极AladdinEdu”，获取更多活动与福利！</p>
<p>🔹教学视频：【AladdinEdu平台使用教程（VSCode版）】 <a href="https://www.bilibili.com/video/BV1bKLjz7EQk/?share_source=copy_web&amp;vd_source=785ba0f4a2bb0a864e047ca2c9d18fed">https://www.bilibili.com/video/BV1bKLjz7EQk/?share_source=copy_web&amp;vd_source=785ba0f4a2bb0a864e047ca2c9d18fed</a></p>
<p>🔹AladdinEdu，同学们用得起的算力平台。</p>
<p>🔹必看文档：</p>
<p>1. <a href="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">快速开始</a></p>
<p>2. <a href="#%E6%95%B0%E6%8D%AE">数据</a></p>
<p>3. <a href="#%E5%85%85%E5%80%BC%E4%B8%8E%E8%AE%A1%E8%B4%B9">充值与计费</a></p>
<h2 id="学术资源加速">学术资源加速</h2>
<h3 id="公开资源">公开资源</h3>
<pre><code>#GitHub加速
git config --global url.&quot;https://gh-proxy.com/github.com/&quot;.insteadOf &quot;https://github.com/&quot;

#Huggingface模型缓存
export HF_ENDPOINT=http://hfmirror.mas.zetyun.cn:8082

#查看缓存模型列表
curl http://hfmirror.mas.zetyun.cn:8082/repos

#huggingface cli下载模型
huggingface-cli download --resume-download Qwen/Qwen2.5-1.5B-Instruct --local-dir Qwen/Qwen2.5-1.5B-Instruct
huggingface-cli download --resume-download Qwen/Qwen2.5-14B-Instruct  --local-dir Qwen/Qwen2.5-14B-Instruct

</code></pre>
<h2 id="快速开始">快速开始</h2>
<blockquote>
<p>AladdinEdu的使用主要分为三步，workshop建立 &gt; 环境配置 &gt; GPU调用，以下内容将围绕此流程展开。</p>
</blockquote>
<p>使用流程图：</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\pic.png" alt="pic"></p>
<p>架构图：</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\frame.png" alt="frame"></p>
<h3 id="插件初始化">插件初始化</h3>
<p><em>本节预计完成时间：2min</em></p>
<h4 id="插件安装">插件安装</h4>
<p>以VSCode版本为例</p>
<ol>
<li>在扩展中搜索Aladdin，点击安装：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\vs1.png" alt="install1"></p>
<ol start="2">
<li>安装完成后可在活动栏看到Aladdin插件图标，安装成功：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\vs2.png" alt="install2"></p>
<h4 id="账号登录">账号登录</h4>
<ol>
<li>以VSCode版本为例，点击Aladdin插件图标，选择Login Personal Account，弹窗后选择“打开”外部网站（AladdinEdu平台）：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\login1.png" alt="login1"></p>
<ol start="2">
<li>在AladdinEdu平台中使用手机号或账号密码登录，首次使用者请先注册：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\login2.png" alt="login2"></p>
<ol start="3">
<li>登录成功后点击“点击返回VSCode”，等待返回VSCode（如未自动跳转，请<strong>手动</strong>返回VSCode）。此时VSCode中出现弹窗，选择“打开”此URL，提示登录成功：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\login3.png" alt="login3"></p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\login4.png" alt="login4"></p>
<h3 id="workshop创建">workshop创建</h3>
<p><em>本节预计完成时间：3.5min</em></p>
<blockquote>
<p>Stop时workshop中的数据（包括环境）将<strong>全部保存</strong>，因此重新Open后无需再次配置和上传数据。总之，workshop在，数据在。但是，自当前算力套餐失效起，若15日内未登录过AladdinEdu平台，存储将会被释放。</p>
</blockquote>
<p>workshop为Aladdin插件的编码区，可在本地VSCode中连接远程服务器。</p>
<ol>
<li>在workshop菜单栏中点击 <strong>+</strong>，新建workshop：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workshop1.png" alt="workshop1"></p>
<ol start="2">
<li>填写workshop名称，选择基础镜像与资源（推荐选择“CPU:4 MEM:16G”）：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workshop2.png" alt="workshop2"></p>
<ul>
<li>workshop启动参数介绍</li>
</ul>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Environment</strong></td>
<td>当前workshop使用的容器镜像</td>
<td>通常包含预装软件和基础运行环境</td>
</tr>
<tr>
<td><strong>Resource</strong></td>
<td>当前workshop启动时分配到的CPU和内存资源</td>
<td>这些资源与GPU运行时是共享的，<br>GPU资源详情请查看<a href="#gpu%E8%B0%83%E7%94%A8">GPU调用</a></td>
</tr>
<tr>
<td><strong>ENV</strong></td>
<td>当前workshop运行时的环境变量</td>
<td>可用于配置应用参数、API密钥等敏感信息</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注：目前不支持保存私有镜像。如需安装任何<strong>自定义包</strong>，此处镜像可<strong>随意选择</strong>。</p>
</blockquote>
<ul>
<li>镜像介绍</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">镜像类型</th>
<th style="text-align:center">版本标签</th>
<th style="text-align:left">包含内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">torch</td>
<td style="text-align:center">2.5.1-cu124</td>
<td style="text-align:left"><strong>核心包:</strong><br><code>torch==2.5.1</code> <code>torchvision==0.20.1</code> <code>torchaudio==2.5.1</code> <code>cuda==12.4</code><br><strong>附加包:</strong><br><code>datasets</code> <code>transformers</code> <code>scikit-learn</code> <code>peft</code> <code>tiktoken</code> <code>blobfile</code> <code>sentencepiece</code> <code>protobuf</code> <code>deepspeed</code></td>
</tr>
<tr>
<td style="text-align:center">torch</td>
<td style="text-align:center">2.6.0-cu124</td>
<td style="text-align:left"><strong>核心包:</strong><br><code>torch==2.6.0</code> <code>torchvision==0.21.0</code> <code>torchaudio==2.6.0</code> <code>cuda==12.4</code><br><strong>附加包:</strong><br>同 2.5.1 版本</td>
</tr>
<tr>
<td style="text-align:center">jupyter-lab</td>
<td style="text-align:center">4.4.2</td>
<td style="text-align:left"><strong>核心包:</strong><br><code>jupyterlab==4.4.2</code> <code>torch==2.5.1+cu124</code> <code>cuda==12.4</code></td>
</tr>
<tr>
<td style="text-align:center">llama-factory</td>
<td style="text-align:center">v0.9.3.dev0-cuda12.4-cudnn9-devel</td>
<td style="text-align:left"><strong>核心包:</strong> <br><code>llamafactory==0.9.3</code> <code>peft==0.15.1</code> <code>trl==0.9.6</code><br><code>accelerate==1.6.0</code> <code>transformers==4.51.3</code><br><code>torch==2.7.0</code> <code>cuda==12.6</code></td>
</tr>
<tr>
<td style="text-align:center">llama-factory</td>
<td style="text-align:center">v0.9.3.dev0-cuda12.1-cudnn9-devel</td>
<td style="text-align:left"><strong>核心包:</strong> <br><code>llamafactory==0.9.3</code> <code>peft==0.15.1</code> <code>trl==0.9.6</code><br><code>accelerate==1.6.0</code> <code>transformers==4.51.3</code><br><code>torch==2.7.0</code> <code>cuda==12.1</code></td>
</tr>
<tr>
<td style="text-align:center">python</td>
<td style="text-align:center">3.10/3.11/3.12/3.13</td>
<td style="text-align:left">纯净Python环境</td>
</tr>
<tr>
<td style="text-align:center">ubuntu</td>
<td style="text-align:center">22.04</td>
<td style="text-align:left">纯净 Ubuntu 22.04 系统</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注：jupyter-lab和llama-factory均已配conda。如您选用jupyter-lab和llam-factory作为workshop的基础镜像，后续配置环境时无需再手动安装conda。</p>
</blockquote>
<ol start="3">
<li>点击提交后会出现插件的状态提示，配置预计在2min左右完成，提示由“Workshop is waiting for creating.”变为“Workshop is created.”：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workshop3-2.png" alt="workshop3"></p>
<ol start="4">
<li>此时会弹出一个新窗口（后文统称为<strong>远端页面</strong>），选择&quot;Linux&quot;，之后远端页面中将自动安装相关插件：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workshop4.png" alt="workshop4"></p>
<ol start="5">
<li>等待远端页面中出现Aladdin插件图标，workshop创建完成：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workshop5.png" alt="workshop5"></p>
<hr>
<h4 id="常见问题">常见问题</h4>
<p>Q：启动workshop时Environment栏无内容，如何处理？</p>
<p>A：网络延迟或设备卡顿引起，稍等片刻即可。</p>
<p>Q：启动workshop后提示填写localhost密码，如何处理？</p>
<p>A：这种情况下是由于您当前设备中可访问 ~/.ssh 或 ~/.alaya/ssh 的用户过多，删除至仅当前登录用户可访问即可恢复正常，点击查看<a href="https://blog.csdn.net/chaoenhu/article/details/103698804">解决方案链接</a>。</p>
<p>Q：workshop打开远端页面失败，提示“无法与‘创建的workshop’建立连接”。</p>
<p>A：需要检查本地是否启动了全局代理模式的科学上网。如有，可尝试关闭后再重启。也可在本地终端中使用以下命令检查ssh连接是否正常。</p>
<pre><code class="language-bash">ssh -vv [出现的问题的workshop名称].bj1
</code></pre>
<p>Q：远端页面提示“无法激活‘Aladdin’拓展”/远端页面中未显示Aladdin插件图标，如何处理？</p>
<p>A：在远端页面中卸载Aladdin插件，然后在本地的VSCode中右击有问题的workshop，点击&quot;Install Remote&quot;手动安装。</p>
<p>Q：我在workshop中装了gcc，为什么GPU Run时无法使用？</p>
<p>A：任何没有装在/root目录下的文件都不会被保存，通过重启workshop或启动GPU Run等都不会生效。后续保存镜像功能上线后，可通过保存镜像即可解决。</p>
<p>Q：workshop中报错“无法激活 ‘Aladdin’ 扩展, 因为它依赖于未加载的 ‘Remote - SSH: Editing Configuration Files’ 扩展。是否要重新加载窗口以加载扩展名？”</p>
<p>A：将远端页面中的Aladdin插件卸载即可，注意需保留Aladdin Remote插件。或通过在远端页面终端中执行命令卸载，命令如下：</p>
<pre><code class="language-bash"><span class="hljs-comment">#VSCode版本</span>
code --uninstall-extension AlayaNeW.aladdin

<span class="hljs-comment">#Cursor版本</span>
cursor --uninstall-extension AlayaNeW.aladdin

</code></pre>
<p>如您的问题仍无法解决，可关注公众号“九章云极AladdinEdu”，点击菜单栏中的“问题反馈”，根据问卷提示填写相应报错信息，等待工作人员联系。</p>
<hr>
<h3 id="配置环境">配置环境</h3>
<p><em>本节预计完成时间：约5min</em>
<em>以下操作均在远端页面中进行。</em></p>
<p>由于目前保存镜像功能暂未上线，直接将包装在镜像中将无法正常使用。<strong>因此，如需自定义安装python包，均需从零开始配置环境</strong>。</p>
<blockquote>
<p>注：强烈推荐按照本文说明，使用miniconda做环境配置。</p>
</blockquote>
<ol>
<li>workshop创建成功后，进入远端页面，选择打开/root目录：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda1.png" alt="conda1"></p>
<ol start="2">
<li>新建终端，在终端中安装miniconda，并确认<strong>安装在/root目录</strong>下：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda2.png" alt="conda2"></p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda3.png" alt="conda3"></p>
<ul>
<li>Conda配置方法</li>
</ul>
<pre><code class="language-bash"><span class="hljs-comment"># 下载最新版 Miniconda (Linux 64位)</span>
curl -L -O https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh
<span class="hljs-comment"># 运行安装脚本</span>
bash Miniconda3-latest-Linux-x86_64.sh
<span class="hljs-comment"># 安装时You can undo this by running `conda init --reverse $SHELL`?</span>
<span class="hljs-comment"># 此项必须选择Yes,安装完成后重启终端conda命令才能生效~</span>

<span class="hljs-comment"># 验证安装</span>
conda --version
<span class="hljs-comment"># 应该显示类似：conda 25.1.1</span>

<span class="hljs-comment"># 添加清华 conda 源</span>
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
<span class="hljs-comment"># 显示通道URL</span>
conda config --<span class="hljs-built_in">set</span> show_channel_urls <span class="hljs-built_in">yes</span>
<span class="hljs-comment"># 设置 pip 使用清华源</span>
pip config <span class="hljs-built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple

</code></pre>
<ol start="3">
<li>成功安装miniconda后，需配置python解释器——新建一个python文件，点击远端页面右下角的python版本号，切换到conda环境中的python：</li>
</ol>
<p>或使用<code>Ctrl+Shift+P</code>快捷键打开命令窗口，输入&quot;Select Interpreter&quot;，更换python解释器。</p>
<blockquote>
<p><strong>重要 ❗</strong>：如不切换，调用GPU时将无法复用配置的环境，出现找不到已安装包的报错！</p>
</blockquote>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda5.png" alt="conda5"></p>
<ol start="4">
<li>远端页面右下角的版本号出现conda环境名，环境切换成功：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda4.png" alt="conda4"></p>
<ol start="5">
<li>接着安装torch，推荐安装12.4版以适配GPU：</li>
</ol>
<blockquote>
<p>配置科学上网后将显著提升下载安装速度，具体步骤参考<a href="#%E5%AD%A6%E6%9C%AF%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F">学术资源加速</a>。</p>
</blockquote>
<pre><code class="language-bash"><span class="hljs-comment">#安装cuda 12.4</span>
pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124
</code></pre>
<ul>
<li>使用以下代码测试cuda是否安装成功，以及是否与当前环境GPU兼容：</li>
</ul>
<pre><code class="language-python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> time

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_cuda_availability</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n======= CUDA 测试 =======&quot;</span>)
    <span class="hljs-comment"># 检查 CUDA 是否可用</span>
    cuda_available = torch.cuda.is_available()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;PyTorch CUDA 可用: <span class="hljs-subst">{<span class="hljs-string">&#x27;✅是&#x27;</span> <span class="hljs-keyword">if</span> cuda_available <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;❌否&#x27;</span>}</span>&quot;</span>)

    <span class="hljs-keyword">if</span> cuda_available:
        <span class="hljs-comment"># 打印 CUDA 版本和设备信息</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;PyTorch CUDA 版本: <span class="hljs-subst">{torch.version.cuda}</span>&quot;</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;当前 GPU 设备: <span class="hljs-subst">{torch.cuda.get_device_name(<span class="hljs-number">0</span>)}</span>&quot;</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;GPU 数量: <span class="hljs-subst">{torch.cuda.device_count()}</span>&quot;</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;⚠️ 请检查 CUDA 和 PyTorch 是否安装正确！&quot;</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;========================\n&quot;</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_gpu_speed</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n======= GPU 速度测试 =======&quot;</span>)
    <span class="hljs-comment"># 创建一个大型张量</span>
    x = torch.randn(<span class="hljs-number">10000</span>, <span class="hljs-number">10000</span>)
    
    <span class="hljs-comment"># CPU 计算</span>
    start_time = time.time()
    x_cpu = x * x
    cpu_time = time.time() - start_time
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;CPU 计算时间: <span class="hljs-subst">{cpu_time:<span class="hljs-number">.4</span>f}</span> 秒&quot;</span>)

    <span class="hljs-keyword">if</span> torch.cuda.is_available():
        <span class="hljs-comment"># 移动到 GPU 计算</span>
        x_gpu = x.to(<span class="hljs-string">&#x27;cuda&#x27;</span>)
        start_time = time.time()
        x_gpu = x_gpu * x_gpu
        torch.cuda.synchronize()  <span class="hljs-comment"># 确保 GPU 计算完成</span>
        gpu_time = time.time() - start_time
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;GPU 计算时间: <span class="hljs-subst">{gpu_time:<span class="hljs-number">.4</span>f}</span> 秒&quot;</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;GPU 比 CPU 快: <span class="hljs-subst">{cpu_time / gpu_time:<span class="hljs-number">.1</span>f}</span> 倍&quot;</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;⚠️ GPU 不可用，跳过测试&quot;</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;==========================\n&quot;</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_training</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n======= 简单训练测试 =======&quot;</span>)
    <span class="hljs-comment"># 定义一个极简神经网络</span>
    model = torch.nn.Sequential(
        torch.nn.Linear(<span class="hljs-number">10</span>, <span class="hljs-number">100</span>),
        torch.nn.ReLU(),
        torch.nn.Linear(<span class="hljs-number">100</span>, <span class="hljs-number">1</span>)
    )
    
    <span class="hljs-comment"># 如果有 GPU，将模型和数据移到 GPU</span>
    device = <span class="hljs-string">&#x27;cuda&#x27;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;cpu&#x27;</span>
    model = model.to(device)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;使用设备: <span class="hljs-subst">{device.upper()}</span>&quot;</span>)

    <span class="hljs-comment"># 模拟数据</span>
    X = torch.randn(<span class="hljs-number">1000</span>, <span class="hljs-number">10</span>).to(device)
    y = torch.randn(<span class="hljs-number">1000</span>, <span class="hljs-number">1</span>).to(device)

    <span class="hljs-comment"># 训练循环</span>
    optimizer = torch.optim.SGD(model.parameters(), lr=<span class="hljs-number">0.01</span>)
    start_time = time.time()
    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
        optimizer.zero_grad()
        output = model(X)
        loss = torch.nn.functional.mse_loss(output, y)
        loss.backward()
        optimizer.step()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Epoch <span class="hljs-subst">{epoch + <span class="hljs-number">1</span>}</span>, Loss: <span class="hljs-subst">{loss.item():<span class="hljs-number">.4</span>f}</span>&quot;</span>)
    
    total_time = time.time() - start_time
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;总训练时间: <span class="hljs-subst">{total_time:<span class="hljs-number">.2</span>f}</span> 秒&quot;</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;==========================\n&quot;</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    test_cuda_availability()
    test_gpu_speed()
    test_training()
</code></pre>
<ol start="6">
<li>将以上代码复制到test.py中，在代码区右击GPU RUN运行。将资源选择为GPU，其余不变：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda6.png" alt="conda6">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\conda6-1.png" alt="conda6"></p>
<p>输出内容案例：</p>
<pre><code>======= CUDA 测试 =======
 PyTorch CUDA 可用: ✅是
 PyTorch CUDA 版本: 12.4
 当前 GPU 设备: [你选择的设备]
 GPU 数量: 1
========================

======= GPU 速度测试 =======
 CPU 计算时间: 0.0487 秒
 GPU 计算时间: 0.0975 秒
 GPU 比 CPU 快: 0.5 倍
==========================

======= 简单训练测试 =======
使用设备: CUDA
Epoch 1, Loss: 0.9516
Epoch 2, Loss: 0.9486
Epoch 3, Loss: 0.9462
Epoch 4, Loss: 0.9442
Epoch 5, Loss: 0.9424
总训练时间: 1.93 秒
==========================
 
</code></pre>
<h2 id="数据">数据</h2>
<h3 id="概要">概要</h3>
<p>AladdinEdu中目前所有存储均为网络盘形式的文件存储，各套餐权益所含存储免费额度与可扩展上限如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">套餐类型</th>
<th style="text-align:center">免费套餐</th>
<th style="text-align:center">尝鲜版</th>
<th style="text-align:center">初级版</th>
<th style="text-align:center">高级版</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">免费文件存储空间</td>
<td style="text-align:center">30G</td>
<td style="text-align:center">30G</td>
<td style="text-align:center">60G</td>
<td style="text-align:center">100G</td>
</tr>
<tr>
<td style="text-align:center">最大可扩展空间</td>
<td style="text-align:center">不可扩展</td>
<td style="text-align:center">500G</td>
<td style="text-align:center">500G</td>
<td style="text-align:center">2TB</td>
</tr>
</tbody>
</table>
<blockquote>
<p>存储计费详见<a href="#%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E8%AE%A1%E8%B4%B9">文件存储计费</a>，如需更大的容量请扫码联系客服。</p>
</blockquote>
<h3 id="存储使用tips">存储使用Tips</h3>
<h4 id="数据保留规则">数据保留规则</h4>
<p>自当前算力套餐失效、账号不享套餐权益起，若15日内未登录过AladdinEdu平台，存储资源将会自动回收。</p>
<h3 id="上传下载数据">上传下载数据</h3>
<blockquote>
<p>文件传输的平均速度为2-3M/s，峰值约为5M/s。如传输速度缓慢，可能是由于带宽负载较大，请稍后再试。</p>
</blockquote>
<h4 id="小文件传输m级别文件">小文件传输（M级别文件）</h4>
<p>选择工作目录后，可通过直接拖拽至工作区来导入文件。</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\upload_folder.png" alt="upload_folder"></p>
<h4 id="大文件传输g级别文件强烈推荐">大文件传输（G级别文件，强烈推荐）</h4>
<blockquote>
<p>推荐文件传输时，调整workshop的资源至可用范围内最大配额，保证传输过程稳定。</p>
</blockquote>
<ol>
<li>workshop创建成功后，查看ssh的配置文件：</li>
</ol>
<ul>
<li>按<code>Ctrl+Shift+P</code>快捷键，选择“Remote-SSH: Open SSH Configuration File”</li>
</ul>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\store1.png" alt="store1">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\store2.png" alt="store2"></p>
<ul>
<li>在配置文件中找到workshop名称对应的Host，其中IdentityFile为密钥文件目录：</li>
</ul>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\store3.png" alt="store3"></p>
<ol start="2">
<li>配置sftp软件，以FlieZilla Client 为例
<span style="color: red; font-weight: bold">连接、传输时需确保 workshop 处于 running 状态</span></li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\store4.png" alt="store4"></p>
<ol start="3">
<li>向/root目录下传输文件</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\store5.png" alt="store5"></p>
<h4 id="scp方式推荐mac用户及linux用户使用">scp方式（推荐Mac用户及Linux用户使用）</h4>
<pre><code class="language-bash"><span class="hljs-comment">#上传命令</span>
scp -r /本地/目录 <span class="hljs-variable">${workshop name}</span>:/root/路径

<span class="hljs-comment">#下载命令</span>
scp -r <span class="hljs-variable">${workshop name}</span>:/root/路径 /本地/路径
</code></pre>
<h4 id="公网网盘传输">公网网盘传输</h4>
<p>正在施工中，敬请期待~</p>
<h2 id="gpu调用">GPU调用</h2>
<blockquote>
<p>对python文件支持GPU Debug、GPU Run、Run Task；对shell文件支持Run Shell、Run Task。
以上任务运行均与workshop状态无关，您可在任务运行时停止workshop。</p>
</blockquote>
<p>除了Run Task为训练态，其他功能均为开发态，即会有Log输出，但是不会保存。</p>
<p>在对应文件中右击，点击相应功能后弹出如下配置页面：
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\gpu1.png" alt="gpu1"></p>
<ul>
<li>参数介绍</li>
</ul>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Configurations</td>
<td>查看已保存的配置信息</td>
<td>可快速载入历史配置</td>
</tr>
<tr>
<td>Environment</td>
<td>GPU运行的基础镜像</td>
<td><span style="color: red">※ 使用conda环境则此处选择的镜像无效</span></td>
</tr>
<tr>
<td>Resource</td>
<td>GPU调用时分配到的资源</td>
<td>- 可选择显卡数量、型号<br>- 卡型号后内容为系统自动适配的CPU、内存<br><span style="color: red">※ 40G卡型暂不支持使用多卡</span></td>
</tr>
<tr>
<td>Save as configuration</td>
<td>保存当前GPU调用配置</td>
<td>勾选后可供下次直接调用</td>
</tr>
<tr>
<td>ENV</td>
<td>环境变量配置</td>
<td>支持键值对形式注入</td>
</tr>
<tr>
<td>Args</td>
<td>命令行参数</td>
<td>按需传入执行参数</td>
</tr>
<tr>
<td>Python Module</td>
<td>Python模块入口</td>
<td>支持Python模块</td>
</tr>
<tr>
<td>Work Dir</td>
<td>工作目录路径</td>
<td>不同项目可配置不同路径</td>
</tr>
</tbody>
</table>
<blockquote>
<p>&quot;6C 80G&quot;是指为每卡分配了6个CPU与80G内存，以此类推。<strong>每并行度可用CPU数为10，内存为121G，超出后将报错超出quota</strong>；</p>
</blockquote>
<p>调用GPU（所有类型）成功后，对Running状态下的进程可以通过右击远端页面中的 DEVELOP SESSION 进行下列操作：</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\gputask.png" alt="gputask"></p>
<ul>
<li>操作介绍</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th style="text-align:center">功能描述</th>
<th style="text-align:center">使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Terminal</td>
<td style="text-align:center">打开运行终端，实时查看进程状态和GPU使用率</td>
<td style="text-align:center">实时监控任务状态</td>
</tr>
<tr>
<td style="text-align:center">View Log</td>
<td style="text-align:center">查看任务实时/历史运行日志</td>
<td style="text-align:center">检查执行结果和错误</td>
</tr>
<tr>
<td style="text-align:center">Copy Path</td>
<td style="text-align:center">复制log目录路径（Run Task专属）</td>
<td style="text-align:center">在终端快速访问日志目录</td>
</tr>
<tr>
<td style="text-align:center">Delete</td>
<td style="text-align:center">手动终止进程并释放资源</td>
<td style="text-align:center">停止异常任务</td>
</tr>
</tbody>
</table>
<h3 id="gpu-debug">GPU Debug</h3>
<p>提供 Debug 调试功能，支持断点调试，并在调试控制台中查看输出信息。</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\debug1.png" alt="debug1"></p>
<h3 id="gpu-run">GPU Run</h3>
<p>GPU Run提供与VSCode直接Run代码类似的开发态执行体验，运行Log默认会在输出中展示。运行结束后将会自动释放资源，停止计费。</p>
<h3 id="run-shell">Run Shell</h3>
<p>与GPU Run类似，Run Shell可用于运行sh脚本，也可用于编译环境，但如上文所说编译后的环境只会保存在临时存储中，关闭workshop后会清除。</p>
<blockquote>
<p>注：sh文件中需要添加conda activate [你的环境名]命令，或在.bashrc文件中直接激活conda环境。</p>
</blockquote>
<h3 id="run-task">Run Task</h3>
<p>Run Task作为唯一训练态功能，可用于运行多worker分布式任务（torchrun）。此时GPU并行度=GPU数*worker数。</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\task1.png" alt="task1"></p>
<p>运行Task时默认不会有Log输出。如需查看日志，需在session中等待Task状态切换为Running后，右击“View log”查看；或右击“copy path”，复制日志文件目录到终端中通过cd打开查看。</p>
<p>同时，Run Task支持在本地VSCode中查看或下载日志。</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\gputask3.png" alt="GPUtask">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\gputask2.png" alt="GPUtask"></p>
<ul>
<li>操作介绍</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">View Log</td>
<td style="text-align:center">查看Task的日志信息</td>
</tr>
<tr>
<td style="text-align:center">Log Download</td>
<td style="text-align:center">下载Task的日志信息到本地</td>
</tr>
<tr>
<td style="text-align:center">Stop</td>
<td style="text-align:center">停止当前正在运行的Task</td>
</tr>
<tr>
<td style="text-align:center">Monitor</td>
<td style="text-align:center">资源监视器，可查看CPU、内存、GPU使用情况</td>
</tr>
<tr>
<td style="text-align:center">Delete</td>
<td style="text-align:center">删除Task的日志信息</td>
</tr>
</tbody>
</table>
<blockquote>
<p>本地VSVode中，该Delete功能会停止Task并删除日志信息。</p>
</blockquote>
<hr>
<h4 id="常见问题-1">常见问题</h4>
<p>Q：调用GPU时报错如下该如何处理？</p>
<pre><code>pods &quot;run-xxxxx&quot; is forbidden: exceeded quota: vks-xxx, requested: limits.cpu=26,limits.memory=400Gi,requests.cpu=26,requests.memory=400Gi, used: limits.cpu=2,limits.memory=8Gi,requests.cpu=2,requests.memory=8Gi, limited: limits.cpu=20,limits.memory=224Gi,requests.cpu=20,requests.memory=224Gi
</code></pre>
<p>A：这是由于workshop占用的CPU资源过多，导致GPU任务启动时资源不足。</p>
<p>解决方法：</p>
<p>检查是否有多个workshop正在运行。如有，将其他workshop关闭。</p>
<p>将当前workshop的资源调整为2核4G（右击当前workshop，Edit），<strong>重启workshop后</strong>即可正常运行GPU任务。</p>
<p>Q：数据加载速度很慢，怎么解决?</p>
<p>A：您可根据数据大小尝试以下两种优化方法。</p>
<ul>
<li>
<p>方法1：使用多进程，从磁盘中读取数据 --&gt; 需在dataloader里设置多CPU并行，
80G和40G卡可分别使用10核和5核CPU帮助处理数据；</p>
</li>
<li>
<p>方法2：从内存中读取数据，限数据集小于等于30G时 --&gt; 将数据集copy到/dev/shm目录下，即可使用内存加载数据。</p>
</li>
</ul>
<hr>
<h3 id="端口转发">端口转发</h3>
<p>❗ <strong>重要</strong> ❗：</p>
<p>1.如果远端服务使用结束，一定要记得手动delete shell任务，否则会一直占用GPU资源产生不必要的费用。</p>
<p>2.所有server<strong>必须绑定0.0.0.0</strong>，不能使用127.0.0.1或localhost。</p>
<p>3.暂不支持TCP协议，仅支持HTTP协议。</p>
<h4 id="使用端口转发启动jupyter">使用端口转发启动Jupyter</h4>
<ol>
<li>启动workshop，进入远端页面后，在资源管理器下点击“打开文件夹”，选择/root作为工作路径。</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\OpenFolder.png" alt="OpenFolder"></p>
<ol start="2">
<li>打开远端页面终端，输入以下命令安装Jupyter：</li>
</ol>
<pre><code class="language-bash"><span class="hljs-comment"># 用 Anaconda 安装</span>
conda install jupyter notebook
<span class="hljs-comment"># 用 pip 安装</span>
pip install jupyter notebook
</code></pre>
<ul>
<li>通过以下代码验证Jupyter是否安装成功：</li>
</ul>
<pre><code class="language-bash">jupyter --version
</code></pre>
<p>输出示例如下：</p>
<pre><code class="language-text">Selected Jupyter core packages...
IPython          : 8.36.0
ipykernel        : 6.29.5
ipywidgets       : 8.1.7
jupyter_client   : 8.6.3
jupyter_core     : 5.7.2
jupyter_server   : 2.16.0
jupyterlab       : 4.4.2
nbclient         : 0.10.2
nbconvert        : 7.16.6
nbformat         : 5.10.4
notebook         : 7.4.2
qtconsole        : not installed
traitlets        : 5.14.3
</code></pre>
<ol start="3">
<li>在/root目录下新建.sh文件，输入以下命令</li>
</ol>
<pre><code class="language-bash"><span class="hljs-comment">#激活包含jupyter的环境</span>
conda activate [你的环境]

jupyter notebook --allow-root --listen 0.0.0.0
</code></pre>
<ol start="4">
<li>在代码区右击选择Run Shell运行，通过任一方法添加端口：</li>
</ol>
<ul>
<li><strong>方法1</strong>：通过Run Shell配置页<sup>1</sup>添加端口
展开“Advanced”后，点击“+Add External Access”<sup>2</sup>新建端口，输入端口号<sup>3</sup>（Jupyter Sever启动端口号默认“8888”），点击Submit提交</li>
</ul>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\runshell.png" alt="runshell"></p>
<ul>
<li><strong>方法二</strong>：Run Shell启动后，右击<strong>Running</strong>的session，选择“Add External Access”，在弹出窗口中输入端口号</li>
</ul>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\addport.png" alt="addport"></p>
<blockquote>
<p>注意：.sh文件只有处于Running中才能新建端口，success或failed状态下，都不可新建端口。</p>
</blockquote>
<h4 id="访问端口">访问端口</h4>
<ol>
<li>Run Shell输出中打印了sever url后，点击session下的端口名称右侧的箭头，此时浏览器中弹出Jupyter网页：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\portmapping.png" alt="portmapping">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\JupyterBrowser.png" alt="JupyterBrowser"></p>
<ol start="2">
<li>在输出中找到token，在Juypter网页中填写，登录Jupyter服务器：</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\token.png" alt="token">
3. 启动Jupyter服务器后，可借助Jupyter实现如下功能：</p>
<ul>
<li>
<p><strong>功能1</strong>：在浏览器中使用Jupyter
通过Jupyter网页，可以看到/root目录下的所有文件，并在Jupyter中编译代码</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\jupyter1.png" alt="jupyter1"></p>
</li>
<li>
<p><strong>功能2</strong>：在VSCode中使用Jupyter（<strong>需提前安装Jupyter和Python插件</strong>）
（1）在workshop中新建.ipynb文件（Jupyter文件）</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\jupyterNotebook.png" alt="jupyterNotebook"></p>
<p>（2）选择Select Kernel -&gt; Existing Jupyter Server</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\selectkernel.png" alt="selectkernel">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\existing.png" alt="existing"></p>
<p>输入Jupyter浏览器地址，回车</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\jupyterurl.png" alt="jupyterurl">
<img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\jupyterurl1.png" alt="jupyterurl1"></p>
<p>输入token，回车</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\confirm.png" alt="confirm"></p>
<p>继续回车</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\confirm1.png" alt="confirm1"></p>
<p>选择Python 3</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\python3.png" alt="python3"></p>
<p>文件右上角变成了Python 3(ipykernel)，说明设置成功，此时就可在VSCode中利用Jupyter的功能调试代码了。</p>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\setting.png" alt="setting"></p>
<p>（3）验证是否可用：在Jupyter网页中新建任意文件，然后在VSCode输入以下代码，运行测试。</p>
<pre><code class="language-bash">import torch
torch.cuda.is_available()
</code></pre>
<p>如果conda环境中含有torch，则有类似下文的输出：</p>
<pre><code class="language-text">True
</code></pre>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\torch_output.png" alt="torch_output"></p>
</li>
</ul>
<h4 id="下载使用comfyui">下载使用ComfyUI</h4>
<ol>
<li>在远端页面终端中执行以下命令，clone代码：</li>
</ol>
<pre><code class="language-bash">git <span class="hljs-built_in">clone</span> https://gh-proxy.com/github.com/comfyanonymous/ComfyUI.git
</code></pre>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\clonecomfyUI.png" alt="clonecomfyUI"></p>
<ol start="2">
<li>下载完成后，在ComfyUI文件夹下新建run.sh文件，将以下代码复制到run.sh文件中：</li>
</ol>
<pre><code class="language-bash">apt update &amp;&amp; apt install -y cmake g++ make
pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu128
pip install -r requirements.txt -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
python main.py --listen 0.0.0.0 --port 8188
</code></pre>
<ol start="3">
<li>在代码区右击，选择Run Shell运行，填写配置时需注意：</li>
</ol>
<ul>
<li>若打开文件目录为/root，则需在高级配置的“Work Dir”中填写文件路径，即“ComfyUI”</li>
<li>添加外部访问端口，此处须与port参数保持一致，即填写“8188”</li>
</ul>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\workdir.png" alt="workdir"></p>
<ol start="4">
<li>
<p>点击Submit后提交任务，等待安装并运行</p>
</li>
<li>
<p>安装完成后，点击session下的端口名称右侧的箭头，即可打开网页通过浏览器访问服务。</p>
</li>
</ol>
<p><img src="file:///d:\桌面\九章云极\0 教程手册等\用户使用手册\3 迭代\AladdinEdu_UserManual(1)\AladdinEdu_UserManual\pic\comfyUI.png" alt="comfyUI"></p>
<h2 id="充值与计费">充值与计费</h2>
<h3 id="充值">充值</h3>
<p>AladdinEdu平台目前采用订阅制。用户可订阅不同类型套餐以购买算力，套餐权益见下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">套餐名称</th>
<th style="text-align:center">尝鲜版</th>
<th style="text-align:center">初级版</th>
<th style="text-align:center">高级版</th>
<th style="text-align:center">扩展包</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">套餐内算力/DCU</td>
<td style="text-align:center">20</td>
<td style="text-align:center">56.6</td>
<td style="text-align:center">500</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">GPU并行度</td>
<td style="text-align:center">2</td>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">免费存储空间/G</td>
<td style="text-align:center">30</td>
<td style="text-align:center">60</td>
<td style="text-align:center">100</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">非教育用户费用/元</td>
<td style="text-align:center">135</td>
<td style="text-align:center">365</td>
<td style="text-align:center">3100</td>
<td style="text-align:center">67.5</td>
</tr>
<tr>
<td style="text-align:center">教育用户费用/元</td>
<td style="text-align:center">119</td>
<td style="text-align:center">325</td>
<td style="text-align:center">2750</td>
<td style="text-align:center">59.5</td>
</tr>
</tbody>
</table>
<blockquote>
<p>DCU，即度，AladdinEdu平台采用的算力基本计量单位，1 DCU =312 TFLOPS *1 hour。</p>
</blockquote>
<p>您可在AladdinEdu平台直接订阅套餐，目前仅支持通过支付宝在线支付。<strong>同时推荐您添加客服企业微信，获取最新活动与优惠政策。</strong></p>
<h3 id="发票">发票</h3>
<p>AladdinEdu平台支持开票，项目名称为“技术服务费”。如有开票需求，可联系客服办理。</p>
<h3 id="计费">计费</h3>
<h4 id="gpu计费">GPU计费</h4>
<p>AladdinEdu平台目前提供两种GPU，规格如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">规格参数</th>
<th style="text-align:center">DC100（Hopper）40G</th>
<th style="text-align:center">DC100（Hopper）80G</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">显存大小</td>
<td style="text-align:center">40GB</td>
<td style="text-align:center">80GB</td>
</tr>
<tr>
<td style="text-align:center">算力定价</td>
<td style="text-align:center">1.28 DCU/H</td>
<td style="text-align:center">2.56 DCU/H</td>
</tr>
<tr>
<td style="text-align:center">并行度占用</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<blockquote>
<p>1 * DC100（Hopper）40G + 2 * DC100（Hopper）80G &lt;= 订阅套餐的最大并行度</p>
</blockquote>
<h4 id="文件存储计费">文件存储计费</h4>
<p>按实际使用量弹性计费，每个套餐包含的免费存储额度以官网展示为准。</p>
<ul>
<li>计费规则：</li>
</ul>
<p>（1）系统将以当日（自然日）使用的最大容量为计费容量，超出免费容量的费用（元/日） = 超出容量（GB） × 0.0015DCU/GB/日，次日凌晨扣除当日费用；</p>
<p>举例：尝鲜版套餐用户享有30G免费存储空间，如果当日使用的最大容量为50GB，那么当日产生的文件存储费用 = (50 - 30) × 0.0015 = 0.003DCU。</p>
<p>（2）如超出容量不足1GB，按1GB计算;</p>
<p>（3）账户余额不足时，将优先保留数据，并产生计费，平台不会立即清理您的数据。如账号欠费超10DCU，平台将保留清理数据的权力（考虑到数据的重要性，会谨慎考虑清理用户数据）。如因平台未及时清理数据导致持续扣费，超出10DCU的欠额平台将为您使用扩展包补欠额。</p>
<p>举例：账户欠费5DCU，将由用户自行承担5DCU欠额；此时平台仍持续扣费，致欠费达20DCU，此时用户可联系客服补10DCU代金券。</p>
<h3 id="结转">结转</h3>
<p>套餐有效期为30天，期间未消耗的算力将且仅将结转30天，结转后的算力处于未激活状态。在结转周期内再次订阅，这部分算力将被激活，但无法再次结转；若无再次订阅，这部分算力将无法继续使用。</p>
<p>举例：
小明在4月1日订阅了一个月尝鲜版套餐，在4月30日剩余10DCU算力未使用， 那么在5月1日账号内仍会留有10DCU算力，但该部分算力尚处于未激活状态。小明在5月15日再次订阅了一个月初级版套餐，此时10DCU算力激活，账户内合计有66.6DCU算力。假设小明在6月13日前没有消耗任何算力，那么在6月14日，10DCU过期，其算力余额将为56.6DCU，且处于未激活状态。</p>
<h3 id="升级与续费">升级与续费</h3>
<p>订阅更高权益的套餐时，支付成功后升级将立即生效，有效期为30天。原套餐算力的有效期同步刷新，将在30天后进入结转周期。</p>
<p>如果订阅更低权益的套餐，或续费相同权益的套餐，新订阅会从当前周期结束后开始生效。在当前周期内无法使用下个周期的算力。</p>
<h3 id="总结">总结</h3>
<p>算力扣减顺序为：结转算力&gt;扩展包&gt;（低级）套餐内算力&gt;（高级）套餐算力。</p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>